---
title: 'Все на борт! Мы отправляемся в путешествие по DevOps'
date: '2023-04-28'
---

> _Организации, которые проектируют системы… обречены создавать дизайны,
> копирующие коммуникационные структуры этих организаций._
>
> --- Мелвин Конуэй

IT-индустрия наполнена людьми, каждый из которых имеет своё собственное мнение
насчёт того, каким образом нужно предоставлять свой продукт клиенту. Кто-то
считает, что необходимо разделять команды разработки и эксплуатации, чтобы не
распылять внимание специалистов и следовать принципу разделения обязанностей.
Другие утверждают, что современные облачные технологии и инструменты достаточно
хороши для того, чтобы не привлекать соответствующих специалистов, не говоря уже
о целых командах. А кто-то считает, что процесс доставки продукта до клиента
настолько уникален и сложен, что существует необходимость в создании отдельной
DevOps команды, фокусирующийся только на процессе доставки программного решения
до пользователя.

Вне зависимости от ваших личных предпочтений, факторы, определяющие оптимальный
подход к организации команды поддержки и доставки продукта, являются
динамическими и зависят от экосистемы доставки, использующейся в вашей
организации. Именно поэтому нельзя бездумно скопировать организационную
структуру другой компании --- скорее всего, она вам не подойдёт. Кроме того, по
мере изменения условий экосистемы могут меняться и факторы, влияющие на
препятствия и риски, с которыми вы и ваша команда сталкиваетесь при нарушении
эффективности механизмов, используемых для поддержания ситуационной
осведомлённости, обучения и улучшения продукта. Проблемы могут стать настолько
велики, что потребуется корректировка структур команды и способов работы, чтобы
сохранять прежнюю эффективность. На самом деле, тема организационных структур
настолько важна, что заслуживает собственной книги.[^1]

[^1]: Для тех, кто заинтересован в такой книге, я настоятельно рекомендую Team
Topologies: Organizing Business and Technology Teams for Fast Flow от Мануэля
Пайса и Мэтью Скелтона (IT Revolution Press; 17 сентября 2019 г.), которая
прекрасно анализирует пригодность различных организационных структур DevOps.

Постоянная реорганизация команд будет разрушительно влиять на процесс работы ---
сотрудники будут испытывать стресс, и эффективность команды понизится.

Более удачный подход --- попытаться разобраться, что именно влияет на
эффективность команды. Начиная с этой точки, участники команды совместно с
менеджерами могут совместно работать над тем, чтобы разработать стабильную меру
для определения настроений команды и её эффективности. Это позволяет обнаружить
ухудшение, найти его коренную причину и принять контрмеры, чтобы восстановить и
даже улучшить эффективность команды.

Из предыдущих глав вам известно, что эффективность команды зависит от нахождения
правильного баланса между трудностями, рисками, ситуационной осведомлённостью и
обучением, чтобы иметь возможность своевременно принимать правильные решения для
достижения необходимых результатов. Важность каждого из этих факторов со
временем может меняться, однако условия баланса остаются относительно
постоянными.

Первый фактор --- это поток необходимой информации, обрабатываемый членами
команды для своевременного принятия верных решений для удовлетворения
потребностей клиентов. Трудность заключается в том, что не вся информация
является <<необходимой>>. Чтобы информация была необходимой, она должна быть
точной, доступной и достаточно актуальной, чтобы обеспечить лучшее решение,
помочь клиентам организации в их стремлении к достижению целевых результатов.
Кроме того, она должна позволять принимать решения таким образом, чтобы привести
к своевременным действиям. Никто не выигрывает от идеального решения, которое
принимается гораздо позже, чем это необходимо или актуально.

Второй фактор заключается в том, что информации, требуемой для своевременного
приянития решений, должно быть достаточно для создания одинакового видения
рабочего процесса между разными организационными структурами. Эта информация
может разниться от команды к команде, а иногда даже и между членами одной
команды. Для успешной разработки необходима соответствующая ситуационная
осведомлённость. В противном случае могут возникать опасные коллизии между
решениями (<<столкновения решений>>) между командами и членами команды.

Понимание того, какая именно потоки информации должны течь, где и в какое время
и с какой скоростью, требует большего, чем просто измерения скорости и охвата
информационного потока. К этой задаче лучше всего подойти <<снизу вверх>>,
уделив Больше внимания организационной структуре и механизму вознаграждения,
которые бы стимулировали чувство ответственности и гордости за свои заслуги у
участников команды. Это побудит разработчиков использовать свои навыки и знания
для того, чтобы создать наилучший опыт для пользователя.

Описанные выше условия достигаются более сложным способом, нежели простым
переходом на новые инструменты, облачные технологии или создание отдельной
оперативной команде с названием "DevOps" или "SRE". Для формирования чувства
собственности и гордости, команда должна знать и понимать ценность целей,
которые вы пытаетесь достичь. Поэтому важно, чтобы структура коммуникации
способствовала чистому и чёткому бизнес-видению, включая проблемы, которые
необходимо решать, и целевые результаты, которые необходимо достичь, а также
ограничения, учитываемые при создании и доставке продукта. Подобный механизм
должен также регулярно измрять объём необходимого уровня осведомлённости о
состоянии процесса доставки решения до пользователя. Это поможет всем участникам
команды понимать <<затуманенные>> области, препятствующие перемещению потоков
информации.

Следующие несколько глав подразумевают практический высокоуровневый обзор
описанных в настоящей главе трудностей, с некоторыми советами и моделями работы,
которые могут быть вам полезны при погружении в DevOps. Эти шаблоны являются
результатом моего личного опыта и включают мысли, описанные в главах с 3 по 7.

> ### Повесть о двух компаниях
>
> Компания BigCo долгое время была успешным поставщиком клиентского
> коммерческого программного обеспечения. Их успех перерос в крупные линейки
> продуктов с множеством талантливых инженерных команд. По мере того как
> программное обеспечение как услуга (Software-as-a-Service, SaaS) становилось
> популярным, все больше клиентов требовали, чтобы BigCo разработала
> SaaS-предложение своих продуктов. Сначала BigCo игнорировала все это, думая,
> что это причуда, которая никогда не приживется. Однако после того, как
> несколько начинающих компаний начали отбирать их клиентскую базу с помощью
> конкурирующих хостинговых предложений, BigCo решила, что у нее нет другого
> выбора, кроме как сделать шаг вперед.
>
> ![](images/8.1.png)
>
> **Рисунок 8.1**\
> BigCo
>
> BigCo начала с найма лучших DevOps сотрудников, которых удалось найти, многие
> из них имели многолетний опыт работы в области управления крупной операционной
> инфраструктурой. По их совету BigCo быстро построила один из самых современных
> центров обработки данных, оснащенный новейшими средствами автоматизации и
> облачными технологиями. В то же время команды разработчиков занялись
> преобразованием своих приложений в хостинговые предложения.
>
> Поначалу казалось, что все идет хорошо. Сервисы, разрабатываемые командами
> разработчиков, выглядели отлично. Они были по крайней мере так же просты в
> использовании, как и традиционные продукты BigCo, но при этом не требовали
> установки клиентом. Аналогичным образом, центры обработки данных были
> прекрасны. Было легко развернуть тысячи экземпляров чего угодно простым
> нажатием кнопки; однако быстро возникли проблемы.
>
> Хотя центры обработки данных были передовыми, большая часть операционного
> плана была возложена на DevOps персонал, работающий совместно с действующей
> ИТ-организацией. Они переняли многие из процессов: запросы, поддержку и
> контроль изменений, которые долгое время использовались внутри компании. Эти
> процессы были не только громоздкими, но и не использовали преимущества
> автоматизации. Это привело к настолько медленному реагированию на инциденты и
> запросы, что даже самые лояльные клиенты угрожали уйти к конкурентам.
>
> Не все было хорошо и со стороны разработки. Разработчики привыкли создавать
> программное обеспечение, оставляя DevOps-обязанности кому-то другому. Лишь
> немногие из них имели реальный опыт предоставления производственных услуг в
> реальном времени, не говоря уже о тех масштабах, которые пыталась реализовать
> BigCo. Взаимодействие между отделами разработки и эксплуатации было медленным
> и чреватым ошибками, что делало развертывание новых релизов и исправление
> ошибок затрудительным и неудобным для всех участников. Такое взаимодействие
> создало большие трудности, которые не соответствовали ожиданиям компании, и
> которые никто не знал, как решить.
>
> Примерно в то же время, когда BigCo боролась с переходным периодом, один из
> начинающих конкурентов, FastCo, переживал свои собственные проблемы. В отличие
> от BigCo, FastCo была компанией, изначально предоставляющей программные услуги
> по требованию, без наличия исходного клиентского продукта. Они начинали с
> малого, но со временем стали чрезвычайно популярны. Они быстро росли, и
> миллионы людей по всему миру ежедневно пользовались их услугами.
>
> ![](images/8.2.png)
>
> **Рисунок 8.2**\
> FastCo
>
> FastCo гордилась скоростью доставки своего продукта клиенту. Они никогда не
> испытывали особой потребности в отдельной DevOps-команде. Вместо этого они
> полагались на разработчиков и своего провайдера облачных услуг.
>
> Казалось, все шло хорошо для FastCo до того дня, когда они столкнулись с
> довольно неожиданной проблемой. Их успех начал привлекать внимание крупных
> клиентов в их сфере. Одна компания из списка Fortune 500 была настолько
> впечатлена, что заключила с FastCo особенно выгодную многолетнюю сделку.
>
> Для FastCo это был большой куш. Она не только гарантировала компании
> стабильный поток доходов в десятки миллионов долларов в год, но и опровергла
> теорию конкурентов, таких как BigCo, о том, что ни одна крупная компания не
> будет покупать важное программное обеспечение в качестве услуги. Однако
> обратная сторона этой большой победы заключалась в том, что FastCo согласилась
> на контракт, по которому она должна была предоставлять свои услуги с гарантией
> надёжности сервиса 99,9%.
>
> Соглашения об уровне обслуживания (Service level agreements, SLAs) были
> совершенно новыми для FastCo. Хотя они знали, что время безотказной работы и
> надежность услуг очень важны, и прилагали большие усилия, чтобы поддерживать
> все в рабочем состоянии, никто не был уверен, что вообще такое время
> безотказной работы, поскольку никто не удосужился измерить его раньше. Теперь,
> когда в контракте были прописаны очень конкретные показатели, FastCo нужно
> было понять, как их измерить и выполнить, причем быстро.
>
> Также существовала проблема их облачного провайдера. Мало того, что SLA с ними
> сильно отличались от тех, на которые они только что подписались, они знали,
> что бывали случаи, когда кратковременные задержки и падения в облачных
> сервисах приводили к ошибкам и непредсказуемому поведению их собственных
> сервисов. Никто не был уверен, что от этого можно защититься.
>
> ![](images/8.3.png)
>
> **Рисунок 8.3**\
> Компаниям, подобным FastCo, легко переборщить с обязательствами и подвергнуть
> риску весь бизнес.
>
>
> Обязательства по SLA заставили задуматься некоторых сотрудников FastCo об
> организации непрерывного процесса предоставления своих услуг. Если бы
> произошёл настоящий сбой, к примеру, в производственной среде, смогла бы
> патформа своевременно восстановиться? FastCo могла быстро развернуть
> экземпляры услуг, что, конечно, способствовало непрерывности. У них даже
> имелся ряд удобных инструментов от своего облачного провайдера, позволяющих им
> подключать какие-то элементы инфраструктуры по мере необходимости.
>
> Но каждый, кто занимался планированием непрерывности бизнеса, может сказать
> вам, что развертывание инфраструктуры и программного обеспечения --- это лишь
> малая часть головоломки. Еще важнее поддерживать актуальные и точные
> конфигурации среды. Небольшие и, казалось бы, несущественные различия могут
> иметь очень важные последствия для поведения и производительности. Обновления,
> ручное устранение неполадок и новые свежие экземпляры --- все это может
> создать тонкие, но значимые отклонения, которые могут остаться незамеченными,
> пока не станет слишком поздно. Аналогичным образом, тонкие моменты
> конфигурации, такие как жестко закодированные IP-адреса и маршрутизация, могут
> проникать как на стороне сервиса, так и даже на клиенте. Это может затруднить
> перемещение или повторное создание служб в другом месте.
>
> Существует также проблема устойчивости и восстановления данных. Клиенты
> нуждаются в том, чтобы их данные были доступны и точны. Несмотря на широкие
> возможности хранения и репликации данных, немногие поставщики услуг уделяют
> время пониманию природы генерируемых, хранимых и обрабатываемых данных, чтобы
> обеспечить наличие и оптимальную настройку правильных механизмов хранения и
> обработки данных. Как можно работать с сервисными данными, чтобы потери и
> повреждения всегда были на минимально приемлемом уровне?
>
> Когда сотрудники FastCo начали изучать ситуацию, они были шокированы. Мало
> того, что восстановление было бы сложным и трудоёмким, никто не был уверен,
> что можно надежно восстановить всё, что у них было. Несмотря на то, что
> инженерные навыки и опыт команды были глубоки, тот факт, что ни перед кем не
> стояла официальная задача обеспечить все эти вещи на сколько-нибудь значимом
> уровне, означал, что их часто упускали из виду или игнорировали.
>
> Как эти две совершенно разные компании преодолели бы такие трудности?

## Проблема предоставления услуг

Сначала это может быть неочевидно, но и BigCo, и FastCo сталкиваются с одной и
той же проблемой.проблемами. Обе компании не смогли установить уровень
ситуационной осведомленности внутри их экосистемы доставки, необходимый для
эффективного обеспечения их услуг, а также для эффективного удовлетворения
потребностей своих клиентов.Самое интересное, что основные причины этой неудачи
имеют одинаковый первоисточник.

Несмотря на совершенно разные модели, обеим организациям все еще удается
сохранять многие старые привычки и устаревшие ментальные модели, унаследованные
от традиционных ИТ. Вместо того, чтобы пытаться определить, как лучше помочь
клиенту достичь его целевых результатов в рамках общего видения бизнеса, эта
ментальная модель заставляет предоставляющих и эксплуатирующих услуги,
сосредоточиться на тех аспектах предоставления услуг, которые в большей степени
более тесно связаны с их областью компетенции.

На первый взгляд, такое сужение фокуса может показаться отличным способом
избежать ненужного отвлечения внимания. Он также может сработать, когда
программное обеспечение передается заказчику для запуска на его собственной
инфраструктуре. Разделение ролей создавало достаточно правдоподобное отрицание,
чтобы все, что выходило за пределы непосредственной зоны ответственности одной
стороны, все, что выходило за пределы непосредственной зоны ответственности
одной из сторон, могло быть легко отклонено.

Предоставление ИТ-услуг по требованию делает недействительным правдоподобное
отрицание, устраняя это разделение. Клиенты справедливо полагают, что вся
ответственность за услугу лежит на поставщике услуг. С точки зрения клиента,
поставщик услуг несет ответственность за то, что провайдер обязан убедиться не
только в том, что все работает так, как ожидается но и в том, что поставщик
делает все возможное, чтобы узнать, каковы ожидания клиента.

Поскольку обязанность по созданию и эксплуатации услуги полностью лежит на
поставщике услуг, просто нет места двусмысленности и поиску виновных, которые
могут покрыть плохую коммуникацию во всей экосистеме услуг. экосистемы. В
результате поставщики услуг должны найти способы понять, что именно нужно
клиентам от услуг, а затем создать сильную обратную связь, рефлексию, и
механизмы совершенствования, необходимые для выполнения ими этих обязательств.

## Традиционный туман доставки в сфере обслуживания

![](images/8.4.png)

**Рисунок 8.4**\
Туман доставки

Давайте вернемся и посмотрим на BigCo и FastCo, чтобы понять, что именно привело
к тому, что они не смогли установить необходимую ситуационную осведомленность и
циклы улучшения, которые необходимы для достижения успеха.

В неудачах BigCo нет ничего удивительного. Они просто заменили ИТ-операции
заказчика своими собственными. Несмотря на наличие более современных центров
обработки данных, инструментов и специального персонала, все старые привычки
разделения ответственности, которые формировали образ мышления команды на
протяжении многих лет работы в традиционной компании по разработке программного
обеспечения, все еще сохраняются. Многие из тех же организационных структур
остаются на своих местах, ухудшая ситуационную осведомленность и любые шансы на
развитие совместной ответственности за то, чтобы сервис оставался настроенным на
то, что желает клиент.

Если этого недостаточно, то фрагментация, вызванная организационной структурой,
побуждает оценивать и вознаграждать команды на основе более традиционных и
локально ориентированных показателей. Это создает мало стимулов для устранения
любых пробелов в осведомленности, не говоря уже о сотрудничестве в работе за
пределами непосредственной компетенции команды, которая вряд ли будет
вознаграждена механизмом оценки работы команды. 

Хотя в FastCo нет унаследованных организационных структур, которые могли бы
нарушить информационный поток, все же есть признаки того, что некоторые
традиционные модели мышления сохраняются. Для начала, разработчиков часто
оценивают по скорости доставки и производительности, а не по пониманию и
достижению результатов клиента. Никто намеренно не пытается строить что-то для
достижения результатов, к которым у них нет стимула.

На этом проблемы не заканчиваются. Немногие разработчики мотивированы изучать
управление операционной стороной сервисной среды в объеме, превышающем
минимально необходимый. Многие не понимают, что знание собственного кода и
значительные технические знания не делают вас автоматически лучшим специалистом
по эксплуатации и управлению. Отсутствие операционных знаний и доступных
экспертных рекомендаций может привести к тому, что плохо разработанное или
опасно неподходящее программное обеспечение будет выпущено только на основании
того, что оно, как кажется, прекрасно работает в среде разработки. 

Недостаток операционных знаний не только создает проблемы с проектированием и
кодированием услуг, но и может оказать реальное влияние на эффективность
проектирования конфигурации хостинга услуг, инструментария и механизмов
операционного управления. Многие ошибочно полагают, что операционные детали и
даже всю Техническую эксплуатацию можно легко свести на нет, если привлечь
достаточное количество операционных инструментов и решений от сторонних
поставщиков облачных платформ и инфраструктуры. Но такое мышление столь же
ошибочно, как и вера в то, что можно стать таким же талантливым, как известный
баскетболист, если носить обувь той же марки, что и у него. 

Для начала, наличие отличных инструментов не обязательно означает, что вы
знаете, как их эффективно использовать. На самом деле, повышенная сложность и
потенциальная непрозрачность, которые они создают в стеке услуг, могут
затруднить понимание нюансов и взаимодействий внутри по всему стеку, даже если
вы активно пытаетесь их искать. Это повышает риск того, что какой-то элемент,
критически важный для работы сервиса, будет упущен. 

Вы также рискуете создать проблемы, которых в противном случае можно было бы
избежать, просто доверившись тому, что внешние поставщики, выполняющие
операционные функции, будут автоматически соответствовать уровню качества
обслуживания, ожидаемому вашим клиентом. Компания FastCo убедилась в этом на
собственном опыте, приняв на себя обязательства по гарантиям уровня
обслуживания, значительно превышающим уровень обслуживания вышестоящего
провайдера, не продумав заранее, как устранить этот разрыв.

Время работы и надежность --- далеко не единственные потенциальные
несоответствия. В производительности, масштабируемости, устранении дефектов и
безопасности, предлагаемых вышестоящими поставщиками, могут быть и другие
недостатки, которые без достаточной оперативной осведомленности могут оставаться
незамеченными до тех пор, пока их устранение не станет болезненно дорогим,
разрушительным или трудоемким. Это может привести к неожиданному поведению и
неловким инцидентам, которые могут поставить под угрозу ваши отношения с
клиентской базой.

Чтобы предоставлять услуги, отвечающие целям и ожиданиям клиентов, необходимо не
только преодолеть различные препятствия, которые могут встать на пути вашего
осознания динамики экосистемы услуг, но и быть уверенным в том, что ваши услуги
соответствуют тем <<возможностям>>, которые требуются клиентам.

## Проблема параметров качества обслуживания

Для команд по предоставлению услуг слишком легко не понять или уделить слишком
мало внимания конкретным качествам услуги, которые, как ожидает клиент, должны
быть в наличии, чтобы помочь им достичь целей. Клиенты часто не помогают делу.
Некоторые сосредотачиваются на решении или функциональных/процедурных деталях
того, как оно предоставляется (как обсуждалось в главе 2,<<Как мы принимаем
решения>>), а не на том, как различные качества услуги могут повлиять на них.
Тем не менее, не нужно быть гением, чтобы понять, что отказ от предоставления
того, что ожидает клиент, не является стратегией успеха.

Существует много различных параметров качества обслуживания, которые являются
важными по мнению клиента. Известный системный инженер и пионер Agile Том Гибл
называл их термином "ilities" (так как большинство из этих качеств заканчивается
на "ility"). Я предпочитаю называть их именно этим термином. ти качества, как
правило, делятся на две категории: 

* Требования к производительности услуг (такие как доступность (availab*ility*),
  надежность (reliab*ility*) и масштабируемость (scalab*ility*)) для
  удовлетворения потребностей клиентов.
* Снижение рисков (такие вещи, как безопасность (securab*ility*), возможность
  восстановления (recoverab*ility*), целостность данных (data integrity),
  возможность обновления (upgradab*ility*), возможность аудита (auditab*ility*)
  и любые другие необходимые юридические требования возможности
  (capab*ilities*)) для удовлетворения потребностей клиентов, юридических и
  нормативных требований.

По ряду причин "ilities" часто упускаются из виду. Одна из серьезных проблем
заключается в том, что когда они появляются, их часто обозначают как
<<нефункциональные требования>>. Проблема с этим термином заключается в том, что
легко поверить в то, что разработчики предоставляют функциональные требования, а
любые <<нефункциональные>> требования либо уже присутствуют естественным
образом, либо предоставляются кем-то другим. Доказать, что что нефункциональное
требование не существует, часто возлагается на команду тестирования, которая
затем должна однозначно доказать, что оно отсутствует и что для исправления
ситуации требуется незапланированная работа. Мало того, что трудно доказать что
чего-то не существует, особенно когда может быть достаточно различий между
тестовой и производственной средами, чтобы создать правдоподобное отрицание.
Нужно убедить других в необходимости проведения работ для удовлетворения
нефункционального требования к поставке, а также бороться с предубеждением
против создания незапланированных работ, которые могут задержать общий релиз.

Предоставление возможностей, которые нужны вашим клиентам, также сталкивается с
проблемой того, что их важность и то, как они воспринимаются, могут отличаться в
зависимости от характера сферы, в которой клиент использует услугу.

Точно так же, как требования к воздуху различаются у бегуна и глубоководного
ныряльщика, возможности, необходимые для сервиса, используемого инвестиционными
компаниями, могут быть разными. Необходимые качества для используемой торговым
отделом инвестиционного банка услуги сильно отличаются от тех, что необходимы
для бесплатной потребительской службы электронной почты, и обе они совершенно
отличаются от тех, которые требуются для службы, управляющей больничными
медицинскими картами.

Даже в рамках одного типа услуг возможности могут сильно различаться в
зависимости от места размещения и потребления услуг (США, Европа, Китай) и типа
клиента (потребитель, бизнес, правительство). Такие переменные могут сделать то,
что подходит для одного клиента (например для американской больничной системы),
совершенно непригодным для другого потребителя (например китайской
правительственной больничной системы). В результате поставщики услуг, которые
мало знают об отрасли, рынке или клиенте,могут легко либо не удовлетворить
потребности клиента, либо оказаться ограниченными в том, как они могут
предоставлять услуги, или же оказаться экономически невыгодными.

Еще одна проблема, связанная с возможностями, заключается в том, что они требуют
понимания того, что означает их эффективное предоставление в вашей экосистеме
услуг. Какие элементы способствуют в их предоставление? Встроены ли они в услугу
или требуют определенных действий для ее поддержания? Какова ваша способность
отслеживать, насколько хорошо вы их обеспечиваете, и противодействовать любым
событиям или условиям, которые могут поставить под угрозу их пригодность?
Ограничивают ли средства, необходимые для их обеспечения, ограничивают ваши
возможности или варианты реагирования на новые проблемы или возможности?

Все это может быть удивительно трудно сделать, даже в менее сложных,
упорядоченных операционных доменах. Такие качества как доступность,
масштабируемость, безопасность и целостность данных обычно зависят от множества
аспектов доставки, работающих вместе известным и взаимодополняющим образом.
Любая проблема или недоразумение, будь то технические ограничения, нарушение
взаимодействия или даже гигиена окружающей среды может создать каскад сбоев,
которые могут как скрыть причину, так и затушевать серьезность реального и
пагубного воздействия на клиента.

При всем этом недостатке плохого потока информации, отсутствующих навыков и
плохо понятых возможностей, как организация может создать достаточную экосистему
и оперативную осведомленность, чтобы уверенно предоставлять услуги, которые
будут соответствовать потребностям и ожиданиям клиентов?

## Способ устранения тумана в сфере оказания услуг

![](images/8.5.png)

**Рисунок 8.5**\
Для устранения тумана в сфере оказания услуг требуется нечто большее, чем
наличие вентилятора.

Устранение тумана в сфере оказания услуг начинается с определения результатов,
которых вы пытаетесь достичь, и намерений, стоящих за их достижением. Это
позволит вам затем определить возможности услуги, которые способствуют
достижению этих результатов. Имея эту информацию, вы можете начать путь к
определению относительной важности различных источников информации, где она
должна поступать и с какой скоростью.

Существует множество вариантов того, как команды могут попытаться устранить этот
пробел в осведомленности: от обращения к клиентам до инструментального анализа
услуг и динамики окружающей экосистемы, чтобы лучше понять, как они используются
и соответствуют ожиданиям клиентов.

Однако для того, чтобы преодолеть любые клиентские предубеждения и
гарантировать, что различные команды придут к одним и тем же выводам, командам в
первую очередь необходимо руководство на уровне менеджеров, чтобы донести общее
видение бизнеса. Вместо того, чтобы объяснять членам команды, что делать,
менеджеры должны работать с каждым из них, чтобы помочь им выяснить, как их
работа должна способствовать реализации этого концепта. Как вы увидите вскоре,
такой подход помогает членам команды найти нужный сигнал среди шумов и взять на
себя ответственность за разработку правильного решения.

## Роль менеджеров в устранении тумана в сфере обслуживания.

Многие ошибочно считают, что роль менеджера заключается в том, чтобы указывать
людям, что им делать. Некоторые даже заходят так далеко, что считают
обязанностью менеджера указывать сотрудникам, как им выполнять свою работу. 

Любой, кто эффективно руководит, знает, что реальность совершенно другая.
Во-первых, менеджеры не являются всезнающими существами. Если только система
поставок не находится в предсказуемо упорядоченной области Cynefin _Clear_
domain (как это описано в главе 5, <<Риск>>), иначе вероятность того, что они
будут располагать более глубокими специальными знаниями в этой области и более
свежей информацией о службе стек-технологий, значительно меньше, чем у их
сотрудников. Даже если им каким-то образом удастся иметь широту осведомленности
и глубину экспертизы, менеджер не только не сможет в достаточной степени
масштабироваться, чтобы справиться с командой разумного размера и набора
обязанностей, но и создаст не стимулирующую рабочую среду, которая без
необходимости растрачивает возможности своих сотрудников и одновременно
ограничивает возможности каждого отдельного сотрудника расти и развиваться. 

Такая комбинация в лучшем случае является рецептом несчастья и неудач. 

Хотя менеджеры могут не знать всего, их должность дает им три важные и
уникальные возможности:

* Они являются частью руководящей структуры организации, что дает им место за
  столом переговоров, которое можно использовать в качестве канала для
  получения, передачи и обеспечения ясности в отношении замысла видения
  бизнеса.
* Они выступают в качестве главного защитника своей команды, который может
  помочь выявить любые пробелы в возможностях или препятствия, для преодоления
  которых команде требуется помощь руководства.
* Они могут помочь руководству сопоставить работу по доставке с возможностями
  клиента и сообщить о любых важных выводах команды, которые могут повлиять на
  общую стратегию.

Существует ряд отличных способов, которыми могут воспользоваться менеджеры,
одним изкоторых является _схема намерений руководителя_, подробно описанная в
главе 3, <<Командование миссией>>.

Еще одна уникальная способность менеджера заключается в том, что у него есть
возможность привлекать к себе внимание и взаимодействовать с коллегами по
организации. Это позволяет менеджеру видеть всю организацию, облегчая поток
информации, помогая устранить коммуникационные барьеры, которые могут искажать
контекст или ограничивать способность членов команды способность к обучению.
Менеджер также может проводить разъяснительную работу и способствовать
сотрудничеству между командами.

Наконец, менеджеры имеют все возможности для того, чтобы видеть общую динамику
своей собственной команды. Это позволяет им выступать в роли наставника и
тренера, помогая команде и ее участникам учиться и совершенствоваться.
Наставничество является одним из важных способов, некоторые из которых
обсуждаются в разделе <<Практика коучинга>> в главе 7, <<Обучение>>. Часть этого
наставничества также включает в себя предоставление членам команды свободы и
поддержки для того, чтобы время от времени отходить от динамики экосистемы
доставки, чтобы экспериментировать и терпеть неудачи безопасным и информативным
способом.

Разрешение на неудачу может показаться руководству анафемой. Это может быть
правдой, если допускаются небрежно высокие риски. Но менеджеры могут помочь
определить и защитить границы эксперимента, позволяющие командам безопасно
опробовать новые технологии и подходы и позволяют членам команды лучше понять
экосистему доставки, внедрять инновации и, в конечном счете, совершенствоваться.
Допуская терпимость к неудачам, каждый может открыто обсудить, что произошло и
почему что-то не сработало, чтобы в будущем они могли выработать потенциально
лучший подход.

> ### Разочарование и информационная инженерия
> 
> Одна из важнейших обязанностей менеджера --- помочь <<развеять туман>> при
> оказании услуг. Это не так уж сложно, если вы регулярно обращаете внимание на
> то, как вы можете помочь своей команде повысить эффективность оказания услуг.
> 
> Чтобы продемонстрировать это, позвольте мне привести пример ситуации, с
> которой я столкнулся несколько лет назад, когда меня попросили принять участие
> в управлении группой специалистов по разработке данных. Стратегическая
> программа компании по бизнес-анализу (BI) шла плохо. Технические команды
> постоянно срывали сроки, а те работы, которые они выполняли, считались
> некачественными. Многочисленные бизнес-клиенты компании были справедливо
> возмущены, что заставило задуматься о том, не лучше ли потратить бюджет
> программы на другие инициативы.
> 
> Когда я встретился с командой, было понятно, что они деморализованы. Все они
> подолгу работали и мало чем могли похвастаться. Они возмущались, когда
> слышали, что их беспокоят недостаточная квалификация или недостаточное
> усердие. Они чувствовали нехватку ресурсов и не могли понять, почему компания
> не хочет направить на проект больше инженеров.
> 
> На первый взгляд, ситуация казалась неразрешимой. Однако, когда я начал
> разбираться в ситуации, стало ясно, что реальная проблема заключается в
> чрезмерном <<тумане>> при доставке.
> 
> У этого <<тумана>> было три причины. Первая заключалась в том, что было
> невероятно трудно понять, есть ли прогресс и чего они достигли. Все команды
> работали две недели, используя спринты в стиле Scrum. Каждая команда вводила
> по одному бизнес-компоненту за раз, при этом первая группа спринтов была
> посвящена определению и последующей проверке различных источников данных, а
> также их источников и структур. Вторая группа спринтов была посвящена
> написанию кода, который затем будет обрабатывать эти данные для BI-системы.
> 
> Все это звучит достаточно разумно. Однако команды никогда не вопросами, какая
> работа выполняется в тот или иной момент времени, кто ее выполняет, сколько
> усилий прилагается, когда работа может быть завершена или какие проблемы
> возникают на этом пути. Все, кто находился вне команды, могли видеть, что
> работа ведется над одним бизнес-компонентом. В результате компонент обычно
> находился в процессе работы на доске scrumban от двух до шести спринтов ---
> период от четырех до двенадцати недель, в течение которого никто, кроме
> инженеров, не имел представление о том, насколько успешно идет работа.
> 
> Другая проблема заключалась в том, что между бизнес-командами, инженерами и
> специалистами по обработке данных не было понимания о значимости каждого
> потока данных. Это повлияло как на расстановку приоритетов, так и на точность
> обработки, очистки и, в конечном итоге, интерпретации данных.
> 
> В условиях незнания о выполненной работе и непоследовательного представления о
> ценности программы BI, бизнес-подразделения могли свободно изменять структуры
> данных в своих каналах данных для удовлетворения новых требований бизнеса.
> Конечно, об изменениях редко сообщалось командам инженеров по обработке
> данных, хотя каждое изменение данных означало, что любая работа над затронутым
> каналом должна была быть отброшена и выполнена заново.
> 
> Установить коммуникацию крайне важно. Первым шагом было улучшение видимости
> работы, выполняемой командой. Для этого инженерным группам было предложено
> разбить свою работу на разумные по размеру куски, не превышающие двух
> человеко-дней. Любые артефакты, созданные в процессе работы, должны были быть
> связаны с заданием, чтобы любой заинтересованный человек мог взглянуть на них,
> чтобы лучше понять, что происходит.
> 
> Разделение работы и связывание артефактов давало ряд преимуществ. Во-первых,
> бизнес мог получить представление о достигнутом прогрессе. Инженеры,
> выполняющие работу, также могли видеть прогресс и накапливать полезную
> информацию для тех случаев, когда они сталкивались с проблемой и нуждались в
> помощи.
> 
> Такое накопление артефактов имело еще одно преимущество: другие инженеры могли
> использовать их, чтобы увидеть, есть ли общие типы подачи, которые можно
> обобщить в более надежные и многократно используемые библиотеки. В конечном
> итоге это ускорило и индустриализировало процесс внедрения BI-фидов, а также
> стимулировало бизнес-клиентов к использованию общих стандартов.
> 
> Следующим шагом стало улучшение взаимодействия и сотрудничества между
> бизнес-клиентами, инженерами по обработке данных и специалистами по анализу
> данных. Перед началом работы с клиентом все должны были договориться об
> относительном приоритете каждого фида и желаемых результатах. Это помогало
> упорядочить и направить работу, когда она поступала в инженерные группы.
> Бизнес-клиенты также согласились поделиться своими техническими дорожными
> картами и работать над минимизацией изменений, которые могли бы нарушить
> работу BI. Если по какой-то причине в процессе работы над фидом требовалось
> внести изменения, было решено остановить работу и перенести фид в конец списка
> приоритетов.
> 
> В результате этих действий скорость внедрения фидов значительно ускорилась.
> Напряженность начала спадать, а моральный дух повысился. Качество итоговой
> работы BI также значительно улучшилось, что помогло клиентам компании быстрее
> достичь результатов, к которым они стремились.

## Определение того, что вы можете или не можете знать

Несмотря на то, что менеджеры играют важную роль в процессе, они не способны в
одиночку устранить всю неясность в предоставлении сервисов. Ключевые элементы
вашей экосистемы предоставления услуг, которые вносят свой вклад в те функции,
которые имеют значение или важны для вашего клиента, будут не только охватывать
системы, программное обеспечение, людей, навыки и поставщиков, на них также
будет влиять взаимодействие между ними. Некоторые из них, от самого программного
обеспечения и систем до конфигурации, подсистем контроля доступа, сетевых служб
и самих данных, вносят непосредственный вклад. Другие, от средств устранения
неполадок и восстановления, квалифицированного персонала и
контрольно-измерительных систем, являются вспомогательными механизмами,
помогающими находить и устранять неисправности, которые начинают выходить за
допустимые пределы.

Понимание того, что представляют из себя эти элементы, относительной важности
свойств, которые они обеспечивают, и того, какой вклад они в них вносят, поможет
вам построить карту, которую вы сможете использовать для изучения и улучшения
своей способности их реализовать. Что особенно важно при построении этой карты,
так это то, что вы скоро поймете, какой большой контроль вы имеете над
управлением силами, которые обеспечивают эти элементы. Элементы делятся на
следующие три отдельные категории: известные <<управляемые>>, известные
<<неуправляемые>> и неизвестные.

Давайте посмотрим, как каждая категория может помочь вам и вашей команде оценить
и, в конечном итоге, сформировать вашу организацию для наилучшего управления
операционными рисками.

### Что вы знаете и чем умеете управлять

Известные <<управляемые объекты>> включают в себя все элементы вашей сервисной
экосистемы, которые, как вы знаете, вы можете наглядно контролировать и которые
напрямую влияют на операционную эффективность вашего сервиса. Это та категория,
в которой в идеальном мире оптимально жили бы все элементы, необходимые для всех
критических или важных функций.

![](images/8.6.jpg) 

**Рисунок 8.6**\
<<Рабочие функции выключателя должны быть известны и управляемы>>

Однако быть известным и <<управляемым>> полезно только в том случае, если вы
способны отслеживать, реагировать и восстанавливаться после любых событий,
которые ставят под угрозу выполнение этих задач, своевременным и эффективным
способом. Возьмем пример реагирования на транзакции. У большинства клиентов
будут ожидания относительно того, какая продолжительность задержки является
приемлемой для транзакции. Знание <<управляемых>> элементов, которые вы можете
настроить или изменить, чтобы сократить растущие задержки, не очень полезно,
если вы не можете вносить эти коррективы со скоростью или способом, который
могут терпеть клиенты. Точно так же недостаточно просто иметь элемент, который
прямо и сознательно <<управляем>>. Вам также нужны поддерживающие механизмы,
которые обнаруживают любые проблемы с доставкой функциональности с этим
элементом и исправляют их, чтобы также быть достаточно чувствительными. Это один
из самых распространенных способов, при котором организации, пытающиеся
управлять мощностями, терпят неудачу. Некоторые внедряют сложные инструменты и
технологии для управления такими функциями, как масштабируемость и
восстанавливаемость. Тем не менее, я видел, что у них либо не будет достаточно
внутренних навыков для их эффективного использования, либо они разделят
обязанности по всей организации и включают в себя команды, которые не могут или
не хотят вносить эффективный вклад в удовлетворение потребностей клиентов. Важно
знать такие элементы и то, как они способствуют успеху службы, знать и проверять
их пороговые значения, отслеживать их текущее состояние в производстве и
обеспечивать, чтобы любые группы, которые должны действовать при приближении к
пороговым значениям, были способны делать это оперативно. приемлемый таймфрейм с
приемлемым уровнем точности.

### Известные неуправляемые факторы

![](images/8.7.jpg) 

**Рисунок 8.7**\
<<Прошло некоторое время, прежде чем команда Сэма смогла найти способ
продемонстрировать ему известный неуправляемый фактор>>

Известные <<неуправляемые>> факторы это все элементы вашей экосистемы услуг,
которые вносят вклад в эксплуатационные возможности вашей услуги, однако не
находятся под вашим прямым контролем. Наиболее распространенными из них являются
облачные и PaaS сервисы, такие как AWS и Azure. Их используют, если нужно
предоставить критически важные инфраструктурные и платформенные услуги. Не менее
распространенными, но часто менее заметными, являются компоненты, поставляемые
коммерческими поставщиками коммерческого оборудования (например, поставщиками
сетевого, вычислительного оборудования или оборудования для хранения данных) или
программного обеспечения (например, баз данных, платежных или защитных COTS
пакетов), более мелкими, но часто не менее важными поставщиками услуг
кэширования и шлюзов, а также поставщиков внешних служб сборки, тестирования и
развертывания.

Осознание их важности и того вклада, который они вносят, чрезвычайно полезно. Но
главное в работе с известными <<неуправляемыми>> факторами это минимизация их
риска для экосистемы. Для систем и программного обеспечения это может включать в
себя создание надежных процедур мониторинга, устранения неполадок и
восстановления, а также использования более проверенных или стандартных версий и
конфигураций в тех местах, где они обеспечивают критически важные возможности..

Другой, более эффективный метод заключается в разработке и эксплуатации услуг
таким образом, чтобы они были устойчивы к любым проблемам, которые могут создать
эти <<неуправляемые>>. Именно этот подход лежит в основе концепций Chaos
Engineering и Simian Army компании Netflix. Там знали, что размещение
значительного количества компонентов на AWS может привести к непредсказуемости
производительности, что негативно скажется на стабильности показываемого
пользователю видео. Они также знали, что инженеры склонны игнорировать или
преуменьшать угрозу проблем экосистемы, создавая программное обеспечение,
которое с трудом справляется с неожиданностями.

Используя такие инструменты, как Chaos Monkey и Latency Monkey, инженеры знали,
что когда-нибудь проблемы точно возникнут, и это заставляло их разрабатывать
программное обеспечение, которое способно устойчиво справляться с такими
ситуациями. Это приводит к снижению рисков для бизнеса и, в конечном итоге, к
более предсказуемому предоставлению услуг, которые ожидает клиент.

### Неизвестные

![](images/8.8.jpg) 

**Рисунок 8.8**\
<<Билли никогда не мог быть уверен в том, есть ли какие-либо опасные неизвестные
факторы, которые могут ему угрожать>>

Даже если у вас есть возможность управлять показателем работоспособности, это
мало чем поможет, если вы не знаете их составные элементы, их состояние и то,
как ими лучше управлять, чтобы обеспечить то, что нужно клиенту. Показатели
работоспособности такого рода это также неизвестные. Эти неизвестные повышают
уровень неуправляемого риска, который может повредить или даже разрушить бизнес.

К сожалению, с нехваткой информационного потока и неоптимальным уровнем
понимания сервисной части внедрения, неизвестность это состояние по умолчанию
для большинства показателей работоспособности. Именно в таком состоянии
находится большинство организаций по предоставлению услуг в начале пути своего
сервисного инжиниринга. Даже если вы решите проблему с определением того, что
нужно клиентам, вы понимаете, что вам предстоит проделать еще большую работу,
чтобы закрыть пробел в осведомленности в вашей системе поставок.


> ### Вы не знаете, чего вы не знаете
> 
> Я часто сталкиваюсь с компаниями типа BigCo и FastCo, которые могут казаться
> успешными снаружи, но внутри оказываются в большом беспорядке. Обе модели
> имеют свои собственные вызовы. Удивительно, но даже с гораздо меньшим
> количеством организационной политики, осложняющей вещи, я часто обнаруживаю,
> что компании типа FastCo, в своем стремлении к гибкости, каким-то образом
> умудрились создать спектакулярно более глубокие проблемы.
> 
> Одна очень известная онлайн-сервисная компания в стиле FastCo неожиданно
> оказалась в довольно неприятной ситуации своего собственного создания. Они с
> гордостью довели все до крайности. Организация состояла из многих команд,
> которые часто выпускали новые функциональные возможности в области, за которую
> они были ответственны. Чтобы опробовать новые идеи, сохраняя при этом
> управление рисками, они сильно использовали конфигурационные переключатели,
> canary, Blue/Green и A/B-развертывание. Это делалось так, чтобы только часть
> пользователей была подвержена новому коду, пока они не почувствовали себя
> комфортно, распространяя его более широко.
> 
> Это все звучит очень разумно. Однако была одна важная проблема, о которой
> компания не подумала. Несмотря на то, что они видели себя как конфедерацию
> различных сервисов, клиенты воспринимали их все вместе как один продукт.
> Команды внедрялись независимо друг от друга, часто с длительными циклами
> A/B-развертывания. Хотя команды часто общались друг с другом и
> координировались, их недостаток мышления о сервисах как об одном продукте
> означал, что они не думали достаточно о всей картине.
> 
> Это означало следующее. Каждый новый переключатель мог создать совершенно
> новый поток процесса и с ним новый пользовательский опыт. По мере роста
> количества различных переключателей возможности, число потенциальных
> пользовательских впечатлений возрастало экспоненциально. Команды все время
> пробовали новые идеи. В конечном итоге они оказались с десятками тысяч живых
> переключателей, разбивающих трафик на множество потенциально разных путей.
> Фактически, так много различных путей, что было не только возможным, что ни
> один пользователь не проходил по одному и тому же пути дважды, но и два
> пользователя, находившихся рядом и потребляющих услугу в то же самое время,
> могли иметь очень разные впечатления.
> 
> Это имело много очевидных недостатков. Во-первых, это создавало проблему
> недетерминированного пользовательского опыта и кошмар для инженеров сервиса.
> Это затрудняло понимание того, что испытывает пользовательское сообщество.
> Бесконечное количество потенциальных комбинаций, которые пользователь может
> пройти, также увеличивало количество крайних случаев, которые они могли
> получить. Такая переменчивость также мешала одной вещи, которую они пытались
> достичь: получить представлеобластиние о своей работе. Как можно убедиться,
> что вы понимаете, что происходит, если вы не можете определенно знать, какие
> пути пользователь выбрал для вашего кода?

## Способы устранения командой неопределенности при предоставлении услуг

Существует несколько способов, которыми команды могут улучшить свое общее
понимание ситуации, независимо от организационной структуры, продолжая при этом
учиться и совершенствоваться. Организовывая работы так, чтобы было понятно, что
происходит (рассматривается в главе 12, "Workflow") имея регулярный, хороший,
но легкий обмен информацией и идеями (рассматривается в главе 14, "Cycles and
Sync Points"), а также интеллектуальная и значимая инструментация
(рассматривается в главе 11, "Instrumentation") --- это очевидные способы
помочь. Также есть способы переструктурировать процессы управления
(рассматривается в главе 15, "Governance") и практики автоматизации
(рассматривается в главе 10, "Automation"), чтобы они способствовали, а не
мешали осознанию ситуации.

Прежде чем переходить к конкретным методам и практикам, важно, чтобы вы и ваша
команда заполнили и закрыли любые пробелы в знаниях, которые могут
препятствовать потоку информации и эффективной доставке. Об этом будет
рассказано в следующей главе, вместе с первой из <<обязанностей>>, которую
команда может использовать для облегчения потока оперативной информации и
выявления областей улучшения внутри и между командами. Я сам использовал этот
шаблон в нескольких организациях и нашел его отличным способом разрушения
силосов и одновременного улучшения технической координации и экспертизы между
командами.

Вторая <<обязанность>>, Queue Master, гораздо более важна. Она рассматривается в
главе 13, "Queue Master", и представляет собой возможность для каждого члена
команды выйти из своей обычной работы, чтобы улучшить ситуационное понимание
команды и выявить области для обучения и улучшения, отслеживая работу,
проходящую через команду.

## Заключение

Эффективное предоставление услуг требует, чтобы команды имели необходимый объем
информации, чтобы знать цель, которую нужно достигнуть, возможности, доступные
клиентам, и элементы экосистемы, которые могут способствовать их предоставлению.
Изменив свое отношение к ролям и экосистеме, команды смогут <<развеять туман>> в
сфере предоставления услуг, который так часто заслоняет им путь к успеху.
